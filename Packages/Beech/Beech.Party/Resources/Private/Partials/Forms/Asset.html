{namespace ehrm=Beech\Ehrm\ViewHelpers}

<div id="{action}{asset.id}{suffix}">

	<ehrm:flashMessages/>

	<f:form action="{action}" controller="Asset" object="{asset}" name="asset" class="compact-form form-horizontal {action}">
		<f:if condition="{0: action} == {0: 'update'}">
			<f:then>
				<f:render partial="Views/List/Asset" arguments="{_all}"/>
			</f:then>
		</f:if>
		<div id="toggle{asset.id}{suffix}" class="{f:if(condition: collapsed, then: 'collapse', else: 'in collapse')}">
			<div class="row-fluid" >
				<div class="span1"><i class="icon-plus"/></div>
				<div class="span3">
					<ehrm:optionSelect property="assetType" id="assetType{asset.id}" model="Beech.Party:Asset" placeholder="{f:translate(id: 'assetType')}..." class="input-small" translate="{by: 'id'}"/>
				</div>
				<div class="span7">
					<f:form.textfield property="assetName"  placeholder="{f:translate(id: 'assetName')}..." class="input-medium capitalize"/>
					<f:form.textfield property="model"  placeholder="{f:translate(id: 'model')}..." class="input-medium capitalize"/>
				</div>
				<div class="span1">
					<button type="submit" name="action" class="btn btn-small toggle{asset.id}_save" value="{action}">
						<i class="icon-save"></i>
					</button>
				</div>
			</div>
			<div class="row-fluid" >
				<div class="span4"></div>
				<div class="span5">
					<f:form.textfield property="idNumber" class="span8 capitalize" placeholder="{f:translate(id: 'idNumber')}..."/>
				</div>

			</div>
			<div class="row-fluid" >
				<div class="span4"></div>
				<div class="span6">
					<ehrm:form.datePicker id="provisionDate{provision.id}" property="provisionDate" class="datepicker span8" placeholder="{f:translate(id: 'provisionDate')}..."/>
				</div>
			</div>
		</div>
		<f:form.hidden property="party" value="{party}"/>
	</f:form>
</div>
<f:if condition="{0: action} == {0: 'add'}">
	<f:then>
		<f:render partial="Forms/Buttons/Add" arguments="{identifier: suffix, collapsed: collapsed}"/>
	</f:then>
</f:if>