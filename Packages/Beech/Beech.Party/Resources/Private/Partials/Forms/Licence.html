{namespace ehrm=Beech\Ehrm\ViewHelpers}
<ehrm:flashMessages/>
<div id="{action}{licence.id}{suffix}">
	<ehrm:form action="{action}" controller="Licence" object="{licence}" name="licence" class="compact-form form-horizontal {action}">
		<f:if condition="{0: action} == {0: 'update'}">
			<f:then>
				<f:render partial="Views/List/Licence" arguments="{_all}"/>
			</f:then>
		</f:if>
		<div id="toggle{licence.id}{suffix}" class="collapse">
			<div class="row-fluid" >
				<div class="span1"><i class="icon-plus"/></div>
				<div class="span3">
					<ehrm:optionSelect property="type" id="licenceType{licence.id}" model="Beech.Party:Licence" placeholder="{f:translate(value: 'Type')}..." class="span10"/>
				</div>
				<div class="span6">
					<f:form.textfield property="name" class="span5" placeholder="{f:translate(value: 'Licence')}..."/>
					<f:form.textfield property="grantedBy" class="span5" placeholder="{f:translate(value: 'GrantedBy')}..."/>
				</div>
				<div class="span2">
					<button type="submit" name="action" class="btn btn-small" value="{action}">
						<i class="icon-save"></i>
					</button>
				</div>
			</div>
			<div class="row-fluid" >
				<div class="span1"></div>
				<div class="span3">
					<label for="startDate{licence.id}">
						<f:translate id="Startdate">StartDate</f:translate>
					</label>
				</div>
				<div class="span6">
					<ehrm:form.datePicker id="startDate{licence.id}" property="startDate" class="datepicker span6" dateFormat="d-m-Y"/>
				</div>
			</div>
			<div class="row-fluid" >
				<div class="span1"></div>
				<div class="span3">
					<label for="ExpirationDate">
						<f:translate id="ExpirationDate">Expiration date</f:translate>
					</label>
				</div>
				<div class="span6">
					<ehrm:form.datePicker id="expirationDate{licence.id}" property="expirationDate" class="datepicker span6" dateFormat="d-m-Y"/>
				</div>
			</div>
		</div>

<f:if condition="{0: action} == {0: 'remove'}">
	<button type="submit" name="submit" class="btn btn-danger btn-mini">
		<i class="icon-trash"></i>
	</button>
</f:if>
<f:form.hidden property="id"/>
<f:form.hidden property="party" value="{party}"/>
</ehrm:form>
</div>
<f:if condition="{0: action} == {0: 'add'}">
	<f:then>
		<f:render partial="Forms/Buttons/Add" arguments="{identifier: suffix}"/>
	</f:then>
</f:if>