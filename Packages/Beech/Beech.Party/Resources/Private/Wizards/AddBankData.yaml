#############################################################
# validated yaml for the add bankinfo wizard
# this can be used to add bank data on persons and companies
# Based on TYPO3.FormBuilder
#############################################################
type: 'TYPO3.Form:Form'
identifier: wizardAddBankData
label: 'Wizard Add Bank Data'
renderables:
  -
    type: 'TYPO3.Form:Page'
    identifier: 'page1'
    label: 'Page 1'
    renderables:
      -
        type: 'TYPO3.Form:Section'
        identifier: 'addBankAccount'
        label: 'Add Bank Account'
        renderables:
          -
            type: 'TYPO3.Form:SingleSelectDropdown'
            identifier: 'selectAccountType'
            label: 'Select account Type'
            properties:
              options:
                -
                  _value: giroAccount
                  _key: 'Giro Account'
                -
                  _value: bankAccount
                  _key: 'Bank Account'
                -
                  _value: bankAccountAbroad
                  _key: 'Bank Account abroad'
            validators:
              -
                type: 'NotEmpty'
              -
                type: 'StringLength'
                options:
                  maximum: 20
      -
        type: 'TYPO3.Form:Section'
        identifier: 'caseBankAccount'
        label: 'Case BankAccount'
        renderables:
          -
            type: 'TYPO3.Form:SingleLineText'
            identifier: 'ibanNumber'
            label: 'IBAN account number'
            validators:
              -
                type: 'NotEmpty'
              -
                type: 'RegularExpression'
                options:
                  regularExpression: '/[a-zA-Z]{2}[0-9]{2}[a-zA-Z0-9]{4}[0-9]{7}([a-zA-Z0-9]?){0,16}/g'
      -
        type: 'TYPO3.Form:Section'
        identifier: 'caseGiroAccount'
        label: 'Case GiroAccount'
        renderables:
          -
            type: 'TYPO3.Form:SingleLineText'
            identifier: 'giroAccount'
            label: 'Giro Account Number'
            validators:
              -
                type: 'NotEmpty'
              -
                type: 'RegularExpression'
                options:
                  regularExpression: '\\d{1,7}'
      -
        type: 'TYPO3.Form:Section'
        identifier: 'caseBankAccountAbroad'
        label: 'Case bank acount abroad'
        renderables:
          -
            type: 'TYPO3.Form:SingleLineText'
            identifier: 'bankaccountAbroad'
            label: 'Bankaccount number abroad'
            validators:
              -
                type: 'NotEmpty'
              -
                type: 'RegularExpression'
                options:
                  regularExpression: '/[a-zA-Z]{2}[0-9]{2}[a-zA-Z0-9]{4}[0-9]{7}([a-zA-Z0-9]?){0,16}/g'
      -
        type: 'TYPO3.Form:Section'
        identifier: 'setPrimary'
        label: 'Set account as primary'
        renderables:
          -
            type: 'TYPO3.Form:Checkbox'
            identifier: 'primairyAccount'
            label: 'Primairy Account'
  -
    type: 'TYPO3.Form:Page'
    identifier: 'page2'
    label: 'Page 2'
    renderables:
      -
        type: 'TYPO3.Form:Section'
        identifier: 'extraBankData'
        label: 'Extra bank Data in case Bank account Abroad'
        renderables:
          -
            type: 'TYPO3.Form:SingleLineText'
            identifier: 'bankName'
            label: 'Bank name'
            validators:
              -
                type: 'RegularExpression'
                options:
                  regularExpression: '[a-zA-Z\\-\\s\\’]{2,20}'
              -
                type: 'NotEmpty'
          -
            type: 'TYPO3.Form:SingleLineText'
            identifier: 'bankResidence'
            label: 'Bank Residence'
            validators:
              -
                type: 'RegularExpression'
                options:
                  regularExpression: '[a-zA-Z\\-\\s\\’]{2,20}'
              -
                type: 'NotEmpty'
          -
# todo: implement the country form element
            type: 'TYPO3.Form:SingleSelectDropdown'
            identifier: 'countryOfBank'
            label: 'country of bank'
            validators:
              -
                type: 'RegularExpression'
                options:
                  regularExpression: '[a-zA-Z\\-\\s\\’]{2,20}'
              -
                type: 'NotEmpty'
          -
            type: 'TYPO3.Form:SingleLineText'
            identifier: bic
            label: 'Bic code'
            validators:
              -
                type: 'StringLength'
                options:
                  maximum: 11
              -
                type: 'RegularExpression'
                options:
                  regularExpression: '[1-9]{8}|[1-9]{11}'
renderingOptions:
  submitButtonLabel: 'Save'