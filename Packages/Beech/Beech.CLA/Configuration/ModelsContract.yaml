##################################################################
# This is a yaml representation of the contractmodel GTB
# Please notice this model is quite complex and has to have
# all properties that are needed so probable modifications are underway.
##################################################################
Beech:
  CLA:
    'Contract':
      properties:
        'subjectId':
          label: 'Subject id'
          type: '\Beech\Party\Domain\Model\Person'
          validation:
            -
              type: 'NotEmpty'
        'departmentId':
          label: 'Department id'
          type: '\Beech\Party\Domain\Model\Company'
          validation: ''
        'contractVersion':
          label: 'contractversion'
          validation:
            -
              type: 'NotEmpty'
            -
              type: 'StringLength'
              options:
                maximum: 10
        'contractStatus':
          label: 'Status of the contract'
          validation:
            -
              type: 'NotEmpty'
            -
              type: 'StringLength'
              options:
                maximum: 20
          options:
            values:
              - signed
              - pending
              - rejected
              - draft
        'contractType':
          label: 'Contract type'
          validation:
            -
              type: 'NotEmpty'
            -
              type: 'StringLength'
              options:
                maximum: 20
        'firstContract':
          label: 'First contract'
          type: boolean
        'contractGenerationDate':
          label: 'The date the contract was created'
          type: dateTime
          validation:
            -
              type: 'NotEmpty'
            -
              type: 'RegularExpression'
              options:
                regularExpression: '(0?[1-9]|[12][0-9]|3[01])[\\/\\-](0?[1-9]|1[012])[\\/\\-]\\d{4}( \\d{1,2}[:-]\\d{2}([:-]\\d{2,3})*)?'
        'contractAcceptanceDate':
          label: 'Date contract was accepted'
          type: dateTime
          validation:
            type: 'RegularExpression'
            options:
              regularExpression: '(0?[1-9]|[12][0-9]|3[01])[\\/\\-](0?[1-9]|1[012])[\\/\\-]\\d{4}( \\d{1,2}[:-]\\d{2}([:-]\\d{2,3})*)?'
        'contractSigned':
          label: 'Contract signed'
          type: boolean
        'contractSignDate':
          label: 'Date of signing contract'
          type: dateTime
          validation:
           -
              type: 'RegularExpression'
              options:
                regularExpression: '(0?[1-9]|[12][0-9]|3[01])[\\/\\-](0?[1-9]|1[012])[\\/\\-]\\d{4}( \\d{1,2}[:-]\\d{2}([:-]\\d{2,3})*)?'
        'contractExpireDate':
          label: 'Expiration date'
          type: dateTime
          validation:
            -
              type: 'RegularExpression'
              options:
                regularExpression: '(0?[1-9]|[12][0-9]|3[01])[\\/\\-](0?[1-9]|1[012])[\\/\\-]\\d{4}( \\d{1,2}[:-]\\d{2}([:-]\\d{2,3})*)?'
        'contactStopDate':
          label: 'Date contract is stopped'
          type: dateTime
          validation:
            -
              type: 'RegularExpression'
              options:
                regularExpression: '(0?[1-9]|[12][0-9]|3[01])[\\/\\-](0?[1-9]|1[012])[\\/\\-]\\d{4}( \\d{1,2}[:-]\\d{2}([:-]\\d{2,3})*)?'
        'contactStopDateReason':
          label: 'Reason that contract was stopped'
          validation: ''
          options:
            values:
              - stoppedByEmployer
              - stoppedByEmployee
              - Sickness
              - Other
        'contractDocumentId':
          label: 'Id of the document'
          validation:
            -
              type: 'StringLength'
              options:
                maximum: 50
# add validator for document type ?
        'jobTitle':
          label: Jobtitle
          validation:
            -
              type: 'NotEmpty'
            -
              type: 'StringLength'
              options:
                maximum: 35
        'jobDescription':
          label: 'Jobdescription'
          type: '\Beech\CLA\Domain\Model\jobDescription'
          validation:
            -
              type: 'NotEmpty'
            -
              type: 'StringLength'
              options:
                maximum: 35
        'defaultSalaryScale':
          label: 'Default salary Scale'
          type: '\Beech\CLA\Domain\Model\jobDescription'
          validation: ''
        'contractEnddate':
          label: 'Expiration date'
          type: dateTime
          validation:
            -
              type: 'RegularExpression'
              options:
                regularExpression: '(0?[1-9]|[12][0-9]|3[01])[\\/\\-](0?[1-9]|1[012])[\\/\\-]\\d{4}( \\d{1,2}[:-]\\d{2}([:-]\\d{2,3})*)?'
        'contractStartDate':
          label: 'Startdate of the contract'
          type: dateTime
          validation:
            -
              type: 'NotEmpty'
            -
              type: 'RegularExpression'
              options:
                RegularExpression: '(0?[1-9]|[12][0-9]|3[01])[\\/\\-](0?[1-9]|1[012])[\\/\\-]\\d{4}( \\d{1,2}[:-]\\d{2}([:-]\\d{2,3})*)?'
        'streetName':
          label: 'Work address streetname'
          validation:
            -
              type: 'NotEmpty'
            -
              type: 'RegularExpression'
              options:
                regularExpression: '[a-zA-Z\\-\\s\\’]{2,30}'
            -
              type: 'StringLength'
              options:
                maximum: 30
        'houseNumber':
          label: 'Work address House number'
          validation:
            -
              type: 'Integer'
            -
              type: 'RegularExpression'
              options:
                regularExpression: '[0-9]{1,5}'
        'houseNumberAddition':
          label: 'Workaddress House number addition'
          validation:
            -
              type: 'RegularExpression'
              options:
                regularExpression: '[a-zA-Z0-9\\-]{0,10}'
            -
              type: 'StringLength'
              options:
                maximum: 10
        'postalCodeNL':
          label: 'Postal code'
          validation:
            -
              type: 'RegularExpression'
              options:
                regularExpression: '\\d{4}\\s?[a-z]{2}'
            -
              type: 'StringLenght'
              options:
                maximum: 6
        'residence':
          label: Residence
          validation:
           -
             type: 'RegularExpression'
             options:
              regularExpression: '[a-zA-Z\\-\\s\\’]{2,30}'
           -
              type: 'Stringlength'
              options:
               maximum: 30
        'country':
          label: Country
          validation:
           -
             type: 'RegularExpression'
             options:
              regularExpression: '[a-zA-Z\\-\\s\\’]{2,30}'
           -
              type: 'Stringlength'
              options:
               maximum: 30
        'probation':
          label: probation
          type: boolean
          default: ''
        'probationInDays':
          label: 'Probation in Days'

          validation: ''
           -
             type: 'Integer'
           -
             type: 'Count'
             options:
              minimum: 0
              maximum: 61
        'totalHours':
          label: 'Total hours of this contract'
          type: decimal(4.2)
          validation:
            -
              type: 'RegularExpression'
              options:
                regularExpression: '^([1-9]\d*(\.|\,)\d*|0?(\.|\,)\d*[1-9]\d*|[1-9]\d*)$'
        'hoursAWeek':
          label: 'Hours a week'
          type: decimal(2.2)
          validation:
            type: 'RegularExpression'
              -
              options:
                regularExpression: '^([1-9]\d*(\.|\,)\d*|0?(\.|\,)\d*[1-9]\d*|[1-9]\d*)$'
        'workRoster':
          type: array
          values:
            'workDays':
              label: Workdays
              validation:
                -
                  type: 'Stringlenght'
                  options:
                    maximum: 10
              options:
                values:
                  - monday
                  - tuesday
                  - wednessday
                  - thursday
                  - friday
                  - saturday
                  - sunday
            'startTime':
              label: Starttime
              type: dateTime
              validation:
                -
                  type: 'RegularExpression'
                  options:
                    regularExpression: '(0?[1-9]|[12][0-9]|3[01])[\\/\\-](0?[1-9]|1[012])[\\/\\-]\\d{4}( \\d{1,2}[:-]\\d{2}([:-]\\d{2,3})*)?'
            'endTime':
              label: Starttime
              type: datetime
              validation:
                -
                  type: 'RegularExpression'
                  options:
                    regularExpression: '(0?[1-9]|[12][0-9]|3[01])[\\/\\-](0?[1-9]|1[012])[\\/\\-]\\d{4}( \\d{1,2}[:-]\\d{2}([:-]\\d{2,3})*)?'
        'hourWage':
          label: 'Hour Wage'
          type: decimal(3.2)
          validation:
            -
              type: 'RegularExpression'
              options:
                regularExpression: '^([1-9]\d*(\.|\,)\d*|0?(\.|\,)\d*[1-9]\d*|[1-9]\d*)$'
        'minimumWage':
          label: 'Minimum wage'
          type: boolean
        'wageScale':
          label: 'wage Scale'
          validation:
            -
              type: 'StringLength'
              options:
                maximum: 3
        'currentWageScale':
          label: 'Current wage Scale'
          validation:
            -
              type: 'StringLength'
              options:
                maximum: 3
# todo: use wagesteps from wagedocument in Beech.Ehrm.Glastuinbouw package
        'wagestep':
          label: 'Wage step'
            label: 'Current wage Scale'
            validation:
              -
                type: 'StringLength'
                options:
                  maximum: 6
        'currentWageStep':
          label: 'Current Wage Step'
          validation: ''
            -
              type: 'StringLenght'
              options:
                maximum: 6
        'cla':
          label: 'collective labour agreement'
          type: '\Beech\CLA\Domain\Model\LaborAgreement'
          validation: ''
        'vacationAllowanceGLA':
          label: 'Vacation allowance in the GLA arrangment'
          type: decimal(2.2)
          validation:
            -
              type: 'RegularExpression'
              options:
                regularExpression: '^([1-9]\d*(\.|\,)\d*|0?(\.|\,)\d*[1-9]\d*|[1-9]\d*)$'
        'vacationAllowancePercentage':
          label: 'Vacation allowance Percentage'
          type: decimal(2.2)
          validation:
             -
               type: 'RegularExpression'
               options:
                 regularExpression: '^([1-9]\d*(\.|\,)\d*|0?(\.|\,)\d*[1-9]\d*|[1-9]\d*)$'
        'sickReportTime':
          label: 'Sickreport time'
          type: dateTime
          validation: ''
        'noticePeriod':
          label: 'Notice period'
          type: boolean
        'generalCompanyRules':
          label: 'General Company Rules Apply'
          type: boolean
        'identification':
          label: 'Identification arrangment'
          type: boolean
        'accomodation':
          label: accomodation
          type: boolean
        'accomodationRentWeek':
          label: 'Acomodation rent for a week'
          type: decimal(3.2)
          validation:
            -
              type: 'RegularExpression'
              options:
                regularExpression: '^([1-9]\d*(\.|\,)\d*|0?(\.|\,)\d*[1-9]\d*|[1-9]\d*)$'
        'accomodationRentMonth':
          label: 'Acomodation rent a month'
          type: decimal(3.2)
          validation:
            -
              type: 'RegularExpression'
              options:
                regularExpression: '^([1-9]\d*(\.|\,)\d*|0?(\.|\,)\d*[1-9]\d*|[1-9]\d*)$'
        'cafetariaModel':
          label: cafetariaModel
          type: boolean
        'articlesInCurrentContract':
          type: array
          validation:
            -
              type: 'NotEmpty'
        'creationDate':
          default: now
          label: 'creation date'
          type: dateTime
          validation:
            -
              type: 'NotEmpty'
            -
              type: 'RegularExpression'
              options:
                regularExpression: '(0?[1-9]|[12][0-9]|3[01])[\\/\\-](0?[1-9]|1[012])[\\/\\-]\\d{4}( \\d{1,2}[:-]\\d{2}([:-]\\d{2,3})*)?'
        'createdBy':
          default: currentUser
          label: 'Created by'
          type: \Beech\Party\Domain\Model\Person
          validation:
            -
              type: 'NotEmpty'
        'modification':
          items:
            'modificationDate':
              default: now
              label: 'Modification date'
              type: dateTime
              validation:
                -
                  type: 'RegularExpression'
                  options:
                    regularExpression: '(0?[1-9]|[12][0-9]|3[01])[\\/\\-](0?[1-9]|1[012])[\\/\\-]\\d{4}( \\d{1,2}[:-]\\d{2}([:-]\\d{2,3})*)?'
            'modifiedBy':
              default: currentUser
              label: 'Modified by'
              required: TRUE
              type: \Beech\Party\Domain\Model\Person
          label: 'Modification log'
          type: array
