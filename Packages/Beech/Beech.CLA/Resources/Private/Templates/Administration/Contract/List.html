<f:layout name="Ajax"/>{namespace ehrm=Beech\Ehrm\ViewHelpers}
<f:section name="Body">
	<h1>
		<f:translate id="contract">contract</f:translate>
	</h1>
	<f:if condition="{entities}">
		<f:then>
			<table class="table">
				<thead>
				<tr>
					<th><f:translate>Employee</f:translate></th>
					<th><f:translate>Job Description</f:translate></th>
					<th><f:translate>Status</f:translate></th>
					<th><f:translate>Creation Date</f:translate></th>
					<th></th>
				</tr>
				</thead>
				<tbody>
					<f:for each="{entities}" as="contract" iteration="iterator">
						<tr>
							<td>{contract.employeeFullName}</td>
							<td>{contract.jobDescriptionName}</td>
							<td>{contract.status}</td>
							<td>{contract.creationDate -> f:format.date(format: 'Y-m-d H:i')}</td>
							<td>
								<f:link.action action="show" controller="Contract" package="Beech.CLA" subpackage="Administration" arguments="{contract: contract}"></f:link.action>
								<a href="#/administration/contract/show/{contract.id}"><i class="icon-camera"></i></a>
							</td>
						</tr>
					</f:for>
				</tbody>
			</table>
		</f:then>
		<f:else>
			<p></p>
		</f:else>
	</f:if>
	<div class="form-actions">
		<a class="btn btn-primary" href="{f:uri.action(package:'Beech.CLA', subpackage:'Administration', controller:'contract', action:'new')}" data-toggle="modal-ajax" data-target="#modal-body-only" modal-size="large">
			<i class="icon-plus icon-white"></i> <f:translate id="action.create">Create</f:translate>
		</a>
		<a class="btn btn-primary" href="/#/persons">
			<f:translate id="action.back">Back</f:translate>
		</a>
	</div>
</f:section>