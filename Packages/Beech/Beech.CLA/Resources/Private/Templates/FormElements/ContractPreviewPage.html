{namespace form=TYPO3\Form\ViewHelpers}{namespace cla=Beech\CLA\ViewHelpers}
<fieldset>
	<div class="preview">
		<f:if condition="{page.label}">
			<legend>{page.label}</legend>
		</f:if>
		<output>
			<table>
				<form:renderValues renderable="{page.rootForm}">
					<f:if condition="{0: formValue.element.type} == {0: 'Beech.CLA:ContractHeaderSection'}">
						<f:then>
							<tr>
								<td colspan="2">
									<form:renderRenderable renderable="{formValue.element}" />
								</td>
							</tr>
						</f:then>
					</f:if>
				</form:renderValues>
				<form:renderValues renderable="{page.rootForm}">
					<f:if condition="{0: formValue.element.type} == {0: 'Beech.CLA:ContractArticleFormElement'}">
						<f:then>
							<tr class="article">
								<td colspan="2">
									<b>Artikel {formValue.element.properties.articleIndex}: {formValue.element.properties.contractArticle.articleHeader}</b>
								</td>
							</tr>
							<tr class="articleContent">
								<td colspan="2">
									<cla:renderContractArticleText element="{formValue.element}"></cla:renderContractArticleText>
									<f:if condition="{formValue.element.contractArticle.subArticles}">
										<ul>
											<f:for each="{formValue.element.contractArticle.subArticles}" as="subArticle">
												<li>{subArticle.articleText}</li>
											</f:for>
										</ul>
									</f:if>
								</td>
							</tr>
						</f:then>
					</f:if>
				</form:renderValues>
				<form:renderValues renderable="{page.rootForm}">
					<f:if condition="{0: formValue.element.type} == {0: 'Beech.CLA:ContractFooterSection'}">
						<f:then>
							<tr>
								<td colspan="2">
									<form:renderRenderable renderable="{formValue.element}" />
								</td>
							</tr>
						</f:then>
					</f:if>
				</form:renderValues>
			</table>
		</output>
	</div>
</fieldset>