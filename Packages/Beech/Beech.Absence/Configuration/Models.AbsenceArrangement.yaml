#############################################################
# validated yaml for the absence arrangement model
# Here we store absence arrangemets with there settings.
#############################################################
'Beech.AbsenceArrangment.Domain.Model.AbsenceArrangement':
  properties:
   'nameArrangement':
     label: 'Absence Arrangement'
     validation:
       -
         type: 'NotEmpty'
       -
         type: 'Stringlength'
         options:
           maximum: 25
   'arrangementTypes':
     type: 'array'
     items:
       -
         'absenceTypeName':
           label: 'Absence type'
           validation:
            -
              type: 'NotEmpty'
            -
              type: 'StringLength'
              options:
                maximum: 35
       -
         'absenceTypeDescription':
           label: 'AbsenceDesription'
           validation:
            -
              type: 'Text'
# Static Settings:
  'SetAbsenceUnit':
    label: 'The unit in what absence is stored'
    options:
      values:
        - 'hour'
        - 'half a day'
        - 'day'
    validation:
      -
        type: 'NotEmpty'
      -
        type: 'StringLength'
        options:
          maximum: 20
  'startCount':
    label: 'Start count of balance'
    type: 'DateTime'
    default: '1-1'
    validation:
      -
        type: 'NotEmpty'
      -
        type: 'StringLength'
        options:
          maximum: 5
  'endCount':
    label: 'End count of balance'
    type: 'DateTime'
    default: '31-12'
    validation:
      -
        type: 'NotEmpty'
      -
        type: 'StringLength'
        options:
          maximum: 5
  'autoGrandBalance':
    label: 'Grant balance after end Countdate'
    type: 'boolean'
    default: FALSE
  'moveUnusedBalance':
    label: 'Move unused balance hours to new balance period'
    type: 'boolean'
    default: FALSE
  'calculateBalanceonFTE':
    label: 'Calculate balance according to FTE factor'
    type: 'boolean'
    default: FALSE
  'leaveBalanceSource':
    label: 'Set balance source'
    type: 'String'
    options:
      values:
        - 'CLA'
        - 'BW'
        - 'Custom'
        - 'not applicable'
    validation:
      -
        type: 'NotEmpty'
      -
        type: 'StringLength'
        options:
          maximum: 20
  'customBalance':
    label: 'Custom  balance for full time'
    validation:
     -
       type: 'Integer'
     -
       type: 'Count'
       options:
         minimum: 1
         maximum: 300
  'absenceUnit':
    label: 'Absence unit'
    options:
      values:
        - 'hour'
        - 'half a day'
        - 'day'
  'creationDate':
    default: 'now'
    label: 'creation date'
    type: 'DateTime'
    validation:
      -
        type: 'NotEmpty'
      -
        type: 'RegularExpression'
        options:
          regularExpression: '(0?[1-9]|[12][0-9]|3[01])[\\/\\-](0?[1-9]|1[012])[\\/\\-]\\d{4}( \\d{1,2}[:-]\\d{2}([:-]\\d{2,3})*)?'
  'createdBy':
    default: 'currentUser'
    label: 'Created by'
    type: 'Beech\Party\Domain\Model\Person'
    validation:
      -
        type: 'NotEmpty'
  'modification':
    items:
      'modificationDate':
        default: 'now'
        label: 'Modification date'
        type: 'DateTime'
        validation:
          -
            type: 'RegularExpression'
            options:
              regularExpression: '(0?[1-9]|[12][0-9]|3[01])[\\/\\-](0?[1-9]|1[012])[\\/\\-]\\d{4}( \\d{1,2}[:-]\\d{2}([:-]\\d{2,3})*)?'
      'modifiedBy':
        default: 'currentUser'
        label: 'Modified by'
        type: 'Beech\Party\Domain\Model\Person'
    label: 'Modification log'
    type: 'array'