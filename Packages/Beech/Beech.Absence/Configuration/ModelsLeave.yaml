#############################################################
# validated yaml for the leave model
# this is the leave model.
#############################################################
---
Beech:
  Absence:
    'Leave':
      properties:
        'subjectId':
          label: 'Subject id'
          type: '\Beech\Party\Domain\Model\Person'
          validation:
            -
              type: 'NotEmpty'
        'departmentId':
          label: 'departmentId'
          type: '\Beech\Party\Domain\Model\Company'
          validation:
            -
              type: 'NotEmpty'
        'leaveDateTimeStart':
          label: 'leaveDateTimeStart'
          type: 'dateTime'
          validation:
            -
              type: 'NotEmpty'
            -
              type: 'RegularExpression'
              options:
                regularExpression: '(0?[1-9]|[12][0-9]|3[01])[\\/\\-](0?[1-9]|1[012])[\\/\\-]\\d{4}( \\d{1,2}[:-]\\d{2}([:-]\\d{2,3})*)?'
        'leaveDateEnd':
          label: 'leaveDateEnd'
          type: 'dateTime'
          validation:
            -
              type: 'NotEmpty'
            -
              type: 'RegularExpression'
              options:
                regularExpression: '(0?[1-9]|[12][0-9]|3[01])[\\/\\-](0?[1-9]|1[012])[\\/\\-]\\d{4}( \\d{1,2}[:-]\\d{2}([:-]\\d{2,3})*)?'
        'leaveType':
          label: 'leaveType'
          options:
            values:
              - 'vacation'
              - 'bereavementLeave'
              - 'unpaidLeave'
              - 'specialLeave'
              - 'parentalLeave'
              - 'adoptionleave'
              - 'shorttermCare'
              - 'longtermCare'
              - 'maternityLeave'
              - 'emergencyLeaveAndOtherShortAbsence'
          validation:
            -
              type: 'NotEmpty'
            -
              type: 'StringLength'
              options:
                maximum: 20
        'deductFromBalance':
          label: 'deductFromBalance'
          options:
            default: TRUE
          type: 'boolean'
          validation: ''
        'paidLeave':
          label: 'paidLeave'
          type: 'boolean'
          validation: ''

        'remark':
          items:
            'remarkType':
              label: 'Remark type'
              options:
                values:
                  - 'reasonLeaveRequest'
                  - 'remarkLeaveRequest'
                  - 'remarkLeaveDecline'
              validation:
                -
                  type: 'StringLength'
                  options:
                    maximum: 12
            'remarkContent':
              label: 'Remark content'
              validation:
                -
                  type: 'Text'
            'remarkDate':
              label: 'Remark date'
              type: 'dateTime'
              validation:
                -
                  type: 'RegularExpression'
                  options:
                    regularExpression: '(0?[1-9]|[12][0-9]|3[01])[\\/\\-](0?[1-9]|1[012])[\\/\\-]\\d{4}( \\d{1,2}[:-]\\d{2}([:-]\\d{2,3})*)?'
          label: 'Remark'
          type: 'array'
        'leaveRequestStatus':
          label: 'Leave request status'
          options:
            values:
              - 'pending'
              - 'approved'
              - 'declined'
          validation:
            -
              type: 'StringLength'
              options:
                maximum: 12
            -
              type: 'NotEmpty'
        'approveDeclineDate':
          label: 'approved Declined Date'
          type: 'dateTime'
          validation:
            -
              type: 'RegularExpression'
              options:
                regularExpression: '(0?[1-9]|[12][0-9]|3[01])[\\/\\-](0?[1-9]|1[012])[\\/\\-]\\d{4}( \\d{1,2}[:-]\\d{2}([:-]\\d{2,3})*)?'
            -
              type: 'NotEmpty'
        'creationDate':
          default: 'now'
          label: 'creation date'
          type: 'dateTime'
          validation:
            -
              type: 'NotEmpty'
            -
              type: 'RegularExpression'
              options:
                regularExpression: '(0?[1-9]|[12][0-9]|3[01])[\\/\\-](0?[1-9]|1[012])[\\/\\-]\\d{4}( \\d{1,2}[:-]\\d{2}([:-]\\d{2,3})*)?'
        'createdBy':
          default: 'currentUser'
          label: 'Created by'
          type: '\Beech\Party\Domain\Model\Person'
          validation:
            -
              type: 'NotEmpty'
        'modification':
          items:
            'modificationDate':
              default: 'now'
              label: 'Modification date'
              type: 'dateTime'
              validation:
                -
                  type: 'RegularExpression'
                  options:
                    regularExpression: '(0?[1-9]|[12][0-9]|3[01])[\\/\\-](0?[1-9]|1[012])[\\/\\-]\\d{4}( \\d{1,2}[:-]\\d{2}([:-]\\d{2,3})*)?'
            'modifiedBy':
              default: 'currentUser'
              label: 'Modified by'
              type: '\Beech\Party\Domain\Model\Person'
          label: 'Modification log'
          type: 'array'
