<f:if condition="{tasks}">
	<f:then>
		<table class="table">
			<tr>
				<th><f:translate id="task.description">Task</f:translate></th>
				<th><f:translate id="task.priority">Priority</f:translate></th>
				<th>&nbsp;</th>
			</tr>
			<f:for each="{tasks}" as="task">
				<f:if condition="{task.closed}">
					<f:then>
						<tr>
							<td>{task.description}</td>
							<td><f:translate id="task.priority.{task.priority}" /></td>
							<td><i class="icon-ok"></i> <f:format.date format="d.m.Y - H:i:s">{task.closeDateTime}</f:format.date></td>
						</tr>
					</f:then>
					<f:else>
						<tr>
							<td>
								<f:link.action action="edit" arguments="{task: task}">{task.description}</f:link.action>
							</td>
							<td><f:translate id="task.priority.{task.priority}" /></td>
							<td>
								<f:if condition="{task.canBeClosedByCurrentParty}">
									<f:link.action action="setDone" class="btn" arguments="{task: task}"><f:translate id="task.setTaskDone">Close</f:translate></f:link.action>
								</f:if>
							</td>
						</tr>
					</f:else>
				</f:if>
			</f:for>
		</table>
	</f:then>
	<f:else>
		<p><f:translate id="task.noTask">Nothing to do.</f:translate></p>
	</f:else>
</f:if>